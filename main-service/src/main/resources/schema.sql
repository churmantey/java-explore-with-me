DROP TABLE IF EXISTS EVENTS;
DROP TABLE IF EXISTS CATEGORIES;
DROP TABLE IF EXISTS USERS;

CREATE TABLE IF NOT EXISTS USERS (
  ID BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(250) NOT NULL,
  EMAIL VARCHAR(254) UNIQUE NOT NULL
 );

CREATE TABLE IF NOT EXISTS CATEGORIES (
  ID BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(50) UNIQUE NOT NULL
 );

CREATE TABLE IF NOT EXISTS EVENTS (
  ID BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(255) UNIQUE NOT NULL,
  CATEGORY_ID BIGINT REFERENCES CATEGORIES(ID) NOT NULL,
  USER_ID BIGINT REFERENCES USERS(ID) NOT NULL
 );
